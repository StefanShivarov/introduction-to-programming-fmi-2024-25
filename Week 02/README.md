# Цикли. Оператори за цикъл. Break и continue.

### Какво е цикъл?

Циклите са основна концепция в програмирането, която позволява даден код да се изпълнява многократно, докато не се изпълни определено условие.

Видове:

-   **Индуктивен цикличен процес** - цикличен процес, при който броят на повторенията е предварително известен

-   **Итеративен цикличен процес** - цикличен процес, при който броят на повторенията НЕ е известен предварително

---

### Оператори за цикъл

### `while`

```cpp
while (<условие/булев израз>) {
	//код, който да се изпълнява итеративно, докато даденото условие стане false
}
```

#### Как работи `while`?

1. Изчислява се стойността на подаденото условие (true / false).
2. Ако е false, while приключва без да се изпълни кода в тялото му.
3. Ако е true, тялото на цикъла се изпълнява.
4. Повтаря се стъпка 1.

```cpp
//Пример 1
while (true) { // безкраен цикъл
    std::cout << "I promise to do my practicum tasks!";
}

//Пример 2
int i = 0;
while (i < 1000) {
    std::cout << i; // ще изпише числата от 0 до 999
    ++i;
}

//Пример 3
int i = 0;
while (true) {
    if (i == 99) {
        break; // излиза от тялото на цикъла, когато i е равно на 99
    } else {
        ++i;
    }
}
```

---

_Тук е удобен момент да разгледаме break и continue, още наречени jump statements._

#### Оператор `break`

Операторът `break` служи за незабавно прекъсване на цикъла, независимо дали условието му е изпълнено. Това е полезно, когато искаме да излезем от цикъл при настъпването на специфично събитие.

#### Оператор `continue`

Операторът `continue` служи за пропускане на текущата итерация на цикъла и преминаване директно към следващата. Той не прекъсва цикъла напълно, а просто пропуска изпълнението на останалия код за текущата итерация.

---

### `do`-`while`

```cpp
do {
    // тяло на цикъла
} while (<условие/булев израз>);
```

#### Как работи `do`-`while`?

1. Изпълнява се кодът в тялото на цикъла веднъж, без да се проверява условието.
2. Изчислява се стойността на подаденото условие (true / false).
3. Ако условието е false, do-while цикълът приключва.
4. Ако условието е true, тялото на цикъла се изпълнява отново.
5. Повтаря се стъпка 2.

**`while` vs. `do`-`while`**

-   При `while`, първо се проверява условието, и ако то е false, тялото не се изпълнява изобщо.
-   При `do`-`while`, тялото на цикъла винаги се изпълнява поне веднъж, преди да се провери условието.

```cpp
int i = 10;

// Пример с while
while (i < 5) {
    std::cout << "Това няма да се изпълни" << endl;
}

// Пример с do-while
do {
    std::cout << "Това ще се изпълни поне веднъж" << endl;
} while (i < 5);
```

```cpp
int i = 5;

// Пример с while
while (i < 5) {
    std::cout << i << endl;
    i++;
}
//тук ще имаме отпечатано : 1 2 3 4

// Пример с do-while
i = 5;
do {
    std::cout << i << ' ';
    i++;
} while (i < 5);
// тук ще имаме отпечатано : 1 2 3 4 5
```

![while vs. do-while diagram](https://www.softwareideas.net/i/DirectImage/1870/Flowchart-for-While-and-Do-While-Loop)

---

### `for`

```cpp
for (инициализация; условие; промяна) {
    // тяло на цикъла
}
```

```cpp
for (int i = 0; i < 5; i++) {
    cout << i << ' ';
}
// 1 2 3 4 5
```

```cpp
// Сумата на четните числа от [2; n]
int n;
std::cin >> n;
int sum = 0;

// Вариант 1
for (int i = 2; i <= n; i++) {
    if (i % 2 != 0) {
        continue;
    }
    sum += i;
}

// Вариант 2
for (int i = 2; i <= n; i += 2) {
    sum += i;
}

std::cout << sum;
```

Вложени цикли:

```cpp
// Принтиране на правоъгълник с подадена височина и широчина от '*'
int rows, cols;
std::cin >> rows >> cols;

// Вариант 1
for (int i = 0; i < rows; i++) {
    for (int j = 0; j < cols; j++) {
        std::cout << '*';
    }
    std::cout << std::endl;
}
```

Ето някои интересни и по-нестандартни синтаксиси на `for` цикли в C++, които на пръв поглед изглеждат странни, но работят коректно:

```cpp
int i = 0;

for (;;) { // Няма инициализация, условие или промяна
    cout << "i = " << i << endl;
    if (i >= 3) break; // Прекъсваме цикъла, за да не е безкраен
    i++;
}
```

В горния пример всички части на for цикъла са пропуснати, което прави цикъла по същество безкраен, освен ако не използваме оператор като break, за да го прекъснем.

---

```cpp
for (int i = 0, j = 10; i < j; i++, j--) { // Едновременно увеличаваме i и намаляваме j
    std::cout << "i = " << i << ", j = " << j << std::endl;
}
```

В този пример в секцията за промяна имаме две операции – увеличаваме i и намаляваме j при всяка итерация. Цикълът се изпълнява, докато i е по-малко от j.

---

```cpp
for (std::cout << "Start of loop\n"; i < 3; std::cout << "i increments\n", i++) {
    std::cout << "i = " << i << std::endl;
}
```

В този случай сме поставили израз в инициализацията и промяната, които не са директно свързани с променливите на цикъла. Това работи и можем да извеждаме съобщения преди и след всяка итерация.

---

```cpp
int sum = 0;

for (int i = 1; i <= 5; sum += i++); // Цикълът няма тяло, цялата логика е в заглавието

std::cout << sum << std::endl;
```

Този for цикъл няма тяло – тялото на цикъла е просто празен ред. Всички действия се извършват в заглавието на цикъла, където се увеличава стойността на i и се добавя към sum.

---

```cpp
for (int i = 0, j = 1, k = 2; i < 3; i++, j += 2, k += 3) {
    std::cout << "i = " << i << ", j = " << j << ", k = " << k << std::endl;
}
```

Тук имаме множество променливи, които се инициализират едновременно в инициализационната част на for цикъла. При всяка итерация всички тези променливи се променят според указаните правила.

---
