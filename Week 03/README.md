# Функции

### Какво е функция?

**Функция** е самостоятелен блок код, който изпълнява определена задача. Всяка функция може да приема входни данни (параметри) и да връща резултат (връщана стойност). Основната цел на функциите е да улеснят организирането на кода, като разделят сложните програми на по-малки и управляеми части, които могат да се използват многократно.

### Структура на функция

Функциите в C++ се състоят от няколко основни компоненти:

1. **Тип на връщане** (сигнатура) – указва какъв тип данни ще върне функцията (например int, double, void, и т.н.)
2. **Име** (идентификатор) на функцията – как се нарича функцията. Това е начинът, по който ще я извикваме
3. **Параметри** – променливите, които функцията приема като входни данни. Те могат да бъдат нула или повече
4. **Тяло** на функцията – кода, който се изпълнява, когато функцията бъде извикана

```cpp
<сигнатура> <идентификатор> (<параметър1>, <параметър2> ...) {
      <тяло>
}
```

### Операторът `return`

Операторът return се използва във функциите, за да върне резултат. Той спира изпълнението на функцията и предава стойността (ако има такава) обратно към извикващия код.

Нека да разгледаме пример за функция, която събира две числа и връща резултата:

```cpp
#include <iostream>
using namespace std;

int sum(int a, int b) {
    return a + b;
}

int main() {
    int num1 = 5;
    int num2 = 7;

    int result = sum(num1, num2);

    cout << "Резултатът е: " << result << endl;

    return 0;
}
```

Когато операторът `return` се изпълни, останалата част от функцията се пропуска. Това е полезно, ако искаме да прекратим изпълнението на функцията при определено условие.

```cpp
double divide(double a, double b) {
    if (b == 0) {
        std::cout << "Error! Cannot divide by 0!" << std::endl;
        return -std::numeric_limits<double>::max(); // някаква специална стойност за грешка
    }

    return a / b;
}
```

### Функции без връщана стойност (`void`)

Ако функцията няма да връща никаква стойност, нейният тип на връщане е `void`, а операторът `return` може да се използва само за прекъсване на изпълнението на функцията без връщане на стойност.

```cpp
void printEvenOrOdd(int num) {
    if (num % 2 == 0) {
        cout << "Even" << endl;
        return;
    }

    cout << "Odd" << endl;
}
```

### Предимства на функциите

1. **Разделяне на логиката**: Програмите стават по-структурирани и лесни за разбиране

2. **Повторна употреба**: След като функцията е създадена, можем да я използваме многократно без да пишем същия код отново

3. **Модулиране на програмата**: По-малките, самостоятелни парчета код улесняват откриването на грешки и добавянето на нова функционалност

### Още важни неща за функциите!

- **Декларация и дефиниция**: Функцията може да бъде декларирана преди main, а самата ѝ дефиниция да е след main. Това става чрез прототипи на функции, които казват на компилатора какви типове параметри и връщане да очаква, без да съдържат самото тяло.

  ```cpp
  int multiply(int, int); // Декларация на функцията

  int main() {
      cout << multiply(3, 4) << endl;
      return 0;
  }

  int multiply(int a, int b) { // Дефиниция на функцията
      return a * b;
  }
  ```

- **Параметри**: В параметрите на функцията може да се предават стойности. Когато ги подаваме като копие, те се копират и използват вътре в тялото на функцията.

  ```cpp
  void f(int n) {
      n += 2;
  }

  int main() {
      int n = 5;
      f(n);
      cout << n; // 5
  }
  ```

  Бихте си помислили, че след изпълнение на функцията, n ще се увеличи с 2, но това няма да се случи. Понеже подаваме променливата n като копие, тя ще се копира вътре в тялото на функцията и промените ще се изпълнят само върху копието, което ще се изтрие след приключване на функцията. Самата променлива n няма да бъде променена! Как можем да променяме променливите след изпълнение на функциите, ще разберете по - напред в курса...
